<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="chess-app">
    <template>
        <style>
            .gamefield {
                width: max-content;
                height: 50%;
                margin: auto;
                margin-top: 2%;
            }

            .brownTile {
                float: left;
                background-color: sandybrown;
                z-index: -1;
            }

            .whiteTile {
                float: left;
                background-color: beige;
                z-index: -1;
            }

            img {
                width: 100%;
                height: 100%;
                z-index: 1;
                float: left;
            }

            .tile {
                height: 10rem;
                width: 10rem;
                overflow: hidden;
            }

            .highlighted {
                background-color: yellow;
                border: 1px solid black;
            }
        </style>
        <div class="container-fluid">
            <div style="width: 200px" ;>


            </div>
            <div class="gamefield">
                <template is="dom-repeat" items="{{chessBoardX}}" as="x">
                    <div class="row">
                        <div class="col-md-12">
                            <template is="dom-repeat" items="{{chessBoardY}}" as="y">
                                <template>
                                    <div class$="{{_tile(x.x, y.y)}}"></div>
                                </template>
                                <!--<template is="dom-if" if="{{x.x % 2 == 0}}">
                                    <template is="dom-if" if="{{y.y % 2 == 0}}">
                                        <div class="brownTile tile" id="item.x item.y">

                                        </div>
                                    </template>
                                    <template is="dom-if" if="{{y.y % 2 != 0}}">
                                        <div class="whiteTile tile" id="item.x item.y">

                                        </div>
                                    </template>
                                </template>

                                <template is="dom-if" if="{{x.x % 2 != 0}}">
                                    <template is="dom-if" if="{{y.y %2 == 0}}">
                                        <div class="whiteTile tile" id="item.x item.y">

                                        </div>
                                    </template>
                                    <template is="dom-if" if="{{y.y % 2 != 0}}">
                                        <div class="brownTile tile" id="item.x item.y">

                                        </div>
                                    </template>
                                </template>-->
                            </template>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </template>

    <script>
        /*$('#@i@j').prop("x-coordinate", @i);
        $('#@i@j>img').prop("x-coordinate", @i)
        $('#@i@j').prop("y-coordinate", @j);
        $('#@i@j>img').prop("y-coordinate", @j)*/
        var jsonDataX = []
        var jsonDataY = []

        function _tile(i, j) {
            if (i % 2 == 0) {
                if (j % 2 == 0) {
                    return "brownTile"
                } else {
                    return "whiteTile"
                }
            } else {
                if (j % 2 == 0) {
                    return "whiteTile"
                } else {
                    return "brownTile"
                }
            }
        }

        class ChessApp extends Polymer.Element {
            static get is() {
                return 'chess-app';
            }

            ready() {
                super.ready();
                this.chessBoardX = jsonDataX;
                this.chessBoardY = jsonDataY;
            }
        }


        window.customElements.define(ChessApp.is, ChessApp);
        (function () {
            for (let i = 0; i < 8; i++) {
                jsonDataX.push({x: i})
                jsonDataY.push({y: i})
            }
        }());
    </script>
</dom-module>