<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">

<dom module id="chess-app">
    <template>
        <style>
            .gamefield{
                width: max-content;
                height: 50%;
                margin: auto;
                margin-top: 2%;
            }

            .brownTile{
                float:left;
                background-color: sandybrown;
                z-index: -1;
            }
            .whiteTile{
                float:left;
                background-color: beige;
                z-index: -1;
            }

            img{
                width: 100%;
                height: 100%;
                z-index: 1;
                float: left;
            }
            .tile {
                height: 10rem;
                width: 10rem;
                overflow: hidden;
            }
            .highlighted {
                background-color: yellow;
                border: 1px solid black;
            }
        </style>
        <div class="container-fluid">
            <div style="width: 200px";>
                @{
                val playerA = c.currentPlayer
                val playerB = c.enemyPlayer
                <div class="panel panel-success">
                    <div class="panel-heading">
                        {playerA}
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        {playerB}
                    </div>
                </div>
                }
            </div>
            <div class="gamefield">
                <template repeat="{{i in [0, 1, 2, 3, 4, 5, 6, 7]}}">
                    <div class="row">
                        <div class="col-md-12">
                            <template repeat="{{j in [0, 1, 2, 3, 4, 5, 6, 7]}}">
                                <template if="{i %2 == 0}">
                                    <template if="{j %2 == 0}">
                                        <div class="brownTile tile" id="@i@j">

                                        </div>
                                    </template>
                                    <template if="{j %2 != 0}">
                                        <div class="whiteTile tile" id="@i@j">

                                        </div>
                                    </template>
                                </template>
                                <template if="{i % 2 != 0}">
                                    <template if="{j %2 == 0}">
                                        <div class="whiteTile tile" id="@i@j">

                                        </div>
                                    </template>
                                    <template if="{j %2 != 0}">
                                        <div class="brownTile tile" id="@i@j">

                                        </div>
                                    </template>
                                </template>
                            </template>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </template>
    <script>
        /*$('#@i@j').prop("x-coordinate", @i);
        $('#@i@j>img').prop("x-coordinate", @i)
        $('#@i@j').prop("y-coordinate", @j);
        $('#@i@j>img').prop("y-coordinate", @j)*/

        class ChessApp extends Polymer.Element {
            static get is() { return 'chess-app'; }
        }
        window.customElements.define(ChessApp.is, ChessApp);
    </script>
</dom>